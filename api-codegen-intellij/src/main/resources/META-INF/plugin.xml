<?xml version="1.0" encoding="UTF-8"?>
<idea-plugin>
    <id>com.apicgen.api-codegen-intellij</id>
    <vendor email="support@apicgen.com" name="ApiCodegen" url="https://github.com/Emtemf/api-codegen"/>

    <depends>com.intellij.modules.java</depends>
    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Project Service -->
        <projectService serviceInterface="com.apicgen.intellij.service.ApiCodegenProjectService"
                        serviceImplementation="com.apicgen.intellij.service.ApiCodegenProjectServiceImpl"/>

        <!-- Tool Window -->
        <toolWindow id="API CodeGen"
                    anchor="right"
                    factoryClass="com.apicgen.intellij.toolwindow.ApiCodegenToolWindowFactory"/>
    </extensions>

    <actions>
        <!-- Tool Window Action -->
        <action id="ApiCodegen.ShowToolWindow"
                class="com.apicgen.intellij.ShowToolWindowAction"
                text="API CodeGen"
                description="Open API CodeGen tool window">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <keyboard-shortcut keymap="$default" first-keystroke="control alt A"/>
        </action>

        <!-- Analyze Action -->
        <action id="ApiCodegen.Analyze"
                class="com.apicgen.intellij.AnalyzeAction"
                text="Analyze YAML"
                description="Analyze YAML for missing validations">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>

        <!-- Auto Fix Action -->
        <action id="ApiCodegen.AutoFix"
                class="com.apicgen.intellij.AutoFixAction"
                text="Auto Fix"
                description="Automatically fix missing validations">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>

        <!-- Generate Code Action -->
        <action id="ApiCodegen.Generate"
                class="com.apicgen.intellij.GenerateCodeAction"
                text="Generate Code"
                description="Generate code from YAML">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>

        <!-- Refresh Action -->
        <action id="ApiCodegen.Refresh"
                class="com.apicgen.intellij.RefreshAction"
                text="Refresh"
                description="Refresh YAML file list">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>
